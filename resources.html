<html>

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link href="https://fonts.googleapis.com/css2?family=Urbanist:ital,wght@0,100;0,200;0,400;0,600;1,700&display=swap"
		rel="stylesheet">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
		integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>


	<style>
		.header i:hover {
			color: #00693c
		}

		.header i {
			vertical-align: baseline;
			color: black;
			margin-right: 5px;
			font-size: 12px;
		}

		ul {
			list-style: none;
			width: 100%;
			box-sizing: border-box;
			padding-right: 30%;
		}

		body {
			top: 70px;
			background-color: white;
			display: flex;
			justify-content: center;
			margin: 0;
		}

		.header {
			position: relative;
			top: 0;
			z-index: 100;
			background-color: lightgrey;
			height: 50px;
			width: 100%;
            padding: 20;
			color: black;
			text-align: left;
			font-weight: bold;
			font-family: 'Urbanist', sans-serif;
			/* display: none; */
		}

		.page_body {
			width: 100%;
			padding: 10;
			box-sizing: border-box;

			display: flex;
			flex-direction: column;
			align-items: flex-start;
			justify-content: flex-start;
			position: absolute;
			margin-top: 100px;
		}

		.resource_header {
			font-family: Verdana, sans-serif;
			color: #00693c
		}

		.resource_link {
			font-family: Verdana, sans-serif;
			margin-left: 20px;
			cursor: default
		}

		.resource_separator {
			width: 100%;
		}


		/* IFRAME */
		#iframe-container {
			height: 90%;
			width: 60%;
			overflow: hidden;
			/* 16:9 aspect ratio */
			padding-top: 56.25%;
			box-sizing: m mm;
			position: relative;
			background-color: blue;

		}

		#light-box {
			position: absolute;
			z-index: 1000;
			top: 0;
			left: 0;
			margin: 0;
			display: none;
			flex: 1;
			flex-direction: column;
			width: 100%;
			height: 100%;
			background-color: rgb(0, 0, 0, .8);
			justify-content: center;
			align-items: center;
			box-sizing: border-box;
		}

		#media_viewer {
			height: 90%;
			width: 60%;
			border: 1px solid rgb(0, 0, 0, .3);
			display: none
		}

		#exit-box {
			font-size: 30px;
			margin-bottom: 20px;
			color: rgb(211, 211, 211, .7);
		}
	</style>
</head>

<body>
	<div class='header'>
		<a class='back' href='//morganiverson.github.io/ticketoffice'><i class="fas fa-home"></i></a>
		Resources
	</div>
	<div class='page_body'>
		<div class='resource_header'>DIGITAL TICKETING RESOURCES</div>
		<ul>
			<li class='resource_link' category='digital_marketing' name='about' onclick="openviewer(this)">About</li>
			<hr class='resource_separator'>

			<li class='resource_link' category='digital_marketing' name='overview' onclick="openviewer(this)">Account
				Overview</li>
			<hr class='resource_separator'>

			<li class='resource_link' category='digital_marketing' name='renewal' onclick="openviewer(this)">Renewal
				Application</li>
			<hr class='resource_separator'>

			<li class='resource_link' category='digital_marketing' name='reissue' onclick="openviewer(this)">Ticket
				Reissue</li>
			<hr class='resource_separator'>

			<li class='resource_link' category='digital_marketing' name='exchange' onclick="openviewer(this)">Ticket
				Exchnage</li>
			<hr class='resource_separator'>

			<li class='resource_link' category='digital_marketing' name='transfer' onclick="openviewer(this)">Ticket
				Transfer</li>
			<hr class='resource_separator'>

			<li class='resource_link' category='digital_marketing' name='cancel' onclick="openviewer(this)">Cancel
				Pending Ticket Transfer</li>
			<hr class='resource_separator'>

			<li class='resource_link' category='digital_marketing' name='return' onclick="openviewer(this)">Ticket
				Return</li>
			<hr class='resource_separator'>

			<li class='resource_link' category='digital_marketing' name='history' onclick="openviewer(this)">Order
				History</li>
			<hr class='resource_separator'>
		</ul>
	</div>

	<div id="light-box">
		<div id='exit-box' onclick="closeviewer();"><i class="fa fa-times"></i></div>
		<iframe id='media_viewer'
			src="https://pachtml-production.s3-us-west-2.amazonaws.com/www/emich-multi/documents/ABOUT_PAGE.pdf"
			allowfullscreen></iframe>
	</div>
	</div>



</body>
<script>
	const VIDEO = 1;
	const PDF = 2;
	const MOBILE = isMobile();


	/* 
	const files = 
	  [{
		category: 'digital_marketing', 
		srcs : [
		  {
			name: 'about',
			title: 'About', 
			type: PDF, 
			src: '//pachtml-production.s3-us-west-2.amazonaws.com/www/emich-multi/documents/ABOUT_PAGE.pdf',
		  }, 
		  {
			name: 'overview',
			title: 'Account Overview', 
			type: VIDEO, 
			src: '//drive.google.com/a/emich.edu/file/d/1BCoFyx4RN38NbUhFcubYzOL3M1Krfz_y/preview?usp=drive_web'
		  }, 
		  {
			name: 'renewal',
			title: 'Renewal Application', 
			type: VIDEO, 
			src: '//drive.google.com/a/emich.edu/file/d/1JTcWefDc1JYraEvmUw_Ce0bL8vdj_o0b/preview?usp=drive_web'
		  }, 
		  {
			name: 'reissue',
			title: "Ticket Reissue", 
			type: VIDEO, 
			src: '//drive.google.com/a/emich.edu/file/d/12WV554nfxQ3exdCxLCZGZ80rGAPmD1JH/preview?usp=drive_web'
		  }, 
		  {
			name: 'exchange',
			title: 'Ticket Exchange',
			type: VIDEO,  
			src: '//drive.google.com/a/emich.edu/file/d/1BCoFyx4RN38NbUhFcubYzOL3M1Krfz_y/preview?usp=drive_web'
		  }, 
		  {
			name: 'transfer',
			title: 'Ticket Transfer', 
			type: VIDEO, 
			src: '//drive.google.com/a/emich.edu/file/d/1ajhTsfNMYicbxDYS2755qZAmxNi7sIHV/preview?usp=drive_web'
		  }, 
		  {
			name: 'cancel',
			title: 'Cancel Pending Ticket Transfer', 
			type: VIDEO, 
			src: '//drive.google.com/a/emich.edu/file/d/1E5PEHwJlBASkIYQELzyxrLmJA70AV_rd/preview?usp=drive_web'
		  }, 
		  {
			name: 'return',
			title: 'Ticket Return', 
			type: VIDEO, 
			src: '//drive.google.com/a/emich.edu/file/d/1E5p4tH8UfAwiEUnfJLmyNtKRPM6KUxPr/preview?usp=drive_web'
		  }, 
		  {
			name: 'history',
			title: 'Order History', 
			type: VIDEO, 
			src: '//drive.google.com/a/emich.edu/file/d/1gQ-X0HuuM8-3atyXMgBADp8ZLOy_zgP-/preview?usp=drive_web'
		  }
		] 
	  }
	]
  */
	// console.log(JSON.stringify(files, null, 2))

	var files = []


	window.onload = () => {
		//get file details
		fetch('resources/resources.json')
			.then(response => response.json())
			.then(jsonResponse => {
				files = jsonResponse;
			})
			.then(
				() => {
					console.log(MOBILE)
					console.log(files)
					//stop loading

					//CHECK URL FOR COMMANDS
					open = urlGET()
					console.log(open)
					if (open) {
						$("[name=" + open + "]").click()
					}
				}
			)


	}


	// outputs a javascript object from the parsed json

	const media_viewer = document.getElementById('media_viewer');
	const video_viewer = document.getElementById('video_viewer')
	const light_box = document.getElementById('light-box');
	const video_src = document.getElementById('video_src')

	function showFLEX(elm) {
		elm.style.display = 'flex';
	}
	function showBLOCK(elm) {
		elm.style.display = 'block';
	}
	function hide(elm) {
		elm.style.display = 'none'
	}

	function openviewer(elm) {
		var view = getSRC(elm);
		console.log(view)

		if (view.src != null && view.src != '') {

			if (MOBILE) {
				media_viewer.style.width = (view.type == VIDEO) ? '90%' : '90%';
				media_viewer.style.height = (view.type == VIDEO) ? '30%' : '60%';
			}
			else {
				media_viewer.style.width = (view.type == VIDEO) ? '70%' : '60%';
				media_viewer.style.height = (view.type == VIDEO) ? '70%' : '90%';
			}
			media_viewer.src = view.src
			showBLOCK(media_viewer)

			showFLEX(light_box)

			// urlSET(view.name)
		}
		else {
			//showerror();
			console.log("Error! No source found.")
		}
	}

	function closeviewer() {
		urlCLEAR()
		light_box.style.display = 'none';
		media_viewer.src = '';
	}
	function showerror() {
		//display flex
		//set timeout -> dfisplay none
	}

	function getSRC(elm) {
		name = elm.getAttribute('name')
		category = elm.getAttribute('category')

		r = files.find((item) => item.category == category).srcs.find((item) => item.name == name);

		return { name: name, src: r.src, type: r.type }
	}


	function urlGET() {
		console.log('getting URL param: open=?')
		var url_string = window.location;
		var url = new URL(url_string);
		return url.searchParams.get("open");
	}

	// function urlSET(open){
	// 	console.log('set URL param: open=' + open)
	// 	var url_string = window.location;
	// 	var url = new URL(url_string);
	// 	url.searchParams.set("open", open);
	// 	// window.location = url.href
	// }

	function urlCLEAR() {
		console.log("Clear URL Param")
		var url_string = window.location;
		var url = new URL(url_string);
		url.searchParams.delete("open");
		window.location = url.href
	}
	function isMobile() {
		return (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)
			|| /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0, 4)))

	}
</script>

</html>



<!-- <ul class="col-md-12">
						<li class="nav-submenu-item"><a class="hdr_contact_us outer" href="/cgi-bin/ncommerce3/EVExecMacro?linkID=emich-multi&amp;evm=cont" target="_blank">Contact Us</a></li>
		START HERE \/
                    <li class="separator">Digital Ticketing</li>
						<li class="nav-submenu-item"><a class="" href="javascript:;">Ticket Reissue and Transfer FAQ</a></li>
						<li class="nav-submenu-item"><a class="" href="javascript:;">Mobile Ticketing Guide</a></li>
						<li class="nav-submenu-item"><a class="" href="javascript:;">Mobile Ticketing FAQ</a></li>-->

<!-- <li class="nav-submenu-item"><a class="" href="//pachtml-production.s3-us-west-2.amazonaws.com/www/emich-multi/documents/ABOUT_PAGE.pdf" target="_blank">About</a></li>
						<li class="nav-submenu-item"><a class="" href="//drive.google.com/a/emich.edu/file/d/1BCoFyx4RN38NbUhFcubYzOL3M1Krfz_y/view?usp=drive_web" target="_blank">Exchange</a></li>
						<li class="nav-submenu-item"><a class="" href="//drive.google.com/a/emich.edu/file/d/1ajhTsfNMYicbxDYS2755qZAmxNi7sIHV/view?usp=drive_web" target="_blank">Transfer</a></li>
						<li class="nav-submenu-item"><a class="" href="//drive.google.com/a/emich.edu/file/d/1E5PEHwJlBASkIYQELzyxrLmJA70AV_rd/view?usp=drive_web" target="_blank">Cancel Pending Transfer</a></li>
						<li class="nav-submenu-item"><a class="" href="//drive.google.com/a/emich.edu/file/d/1E5p4tH8UfAwiEUnfJLmyNtKRPM6KUxPr/view?usp=drive_web" target="_blank">Return</a></li>
						<li class="nav-submenu-item"><a class="" href="//drive.google.com/a/emich.edu/file/d/1gQ-X0HuuM8-3atyXMgBADp8ZLOy_zgP-/view?usp=drive_web" target="_blank">Order History</a></li> -->
<!-- END HERE /\ -->
<!-- <li class="separator">Mobile Account Management</li>
						<li class="nav-submenu-item"><a target="_blank" class="" href="https://drive.google.com/a/emich.edu/file/d/1JBOg1GI5E1HiKmPt4a3-8eJfJTlvw51W/view?usp=drive_web">About Mobile Ticketing</a></li>
						<li class="nav-submenu-item"><a target="_blank" class="" href="https://drive.google.com/a/emich.edu/file/d/1EygTsFBbrF0Ea3LsVoiyS6ipqDAHB7Q_/view?usp=drive_web">Download Digital Tickets</a></li>
						<li class="nav-submenu-item"><a target="_blank" class="" href="https://drive.google.com/a/emich.edu/file/d/1I6sWZ7cwf_wNQSPqyUI6NGMk8rp9t7kX/view?usp=drive_web">Mobile Ticket Transfer</a></li>
						<li class="nav-submenu-item"><a target="_blank" class="" href="https://drive.google.com/a/emich.edu/file/d/1_u_vixNGV1h_slRvFQfl3uLSA5FYksga/view?usp=drive_web">Ticket Transfer Acceptance</a></li> -->


<!-- <li class="separator">Parking Maps</li>
						<li class="nav-submenu-item"><a target="_blank" class="" href="https://pachtml-production.s3-us-west-2.amazonaws.com/www/emich-multi/images/other/FBParkingMap.png">Football Parking</a></li>
						<li class="nav-submenu-item"><a class="" href="javascript:;">Basketball Parking</a></li>
						<li class="nav-submenu-item"><a class="hdr_student_ticket outer" href="/cgi-bin/ncommerce3/SEGetGroupList?linkID=emich-multi&amp;groupCode=&amp;RSRC=&amp;RDAT=&amp;url=http%3A//emueagles.evenue.net/cgi-bin/ncommerce3/SEGetGroupList%3FgroupCode%3DGS%26linkID%3Demich-multi%26shopperContext%3D%26caller%3D%26appCode%3D&amp;shopperContext=ST">Student Tickets</a></li>
						<li class="nav-submenu-item"><a target="_blank" class="" href="https://emueagles.com/sports/2017/8/1/mid-american-conference-prohibited-items-list.aspx">Bag Policy</a></li> -->
<!-- </ul> -->